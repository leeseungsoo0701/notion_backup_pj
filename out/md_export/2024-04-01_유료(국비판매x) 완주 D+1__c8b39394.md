---
created_date: 2024-04-01
id: c8b39394-01e7-4783-8e81-9b95ad7fcb64
url: https://www.notion.so/x-D-1-c8b3939401e747838e819b95ad7fcb64
perf_flag: yes
importance: 5
summary_5lines:
  - '650abff5535c9f5382d509ee', -- 칼퇴를 부르는 파이썬 업무 자동화
  - '62973372bf6e0e4f799fc76e', -- 금융인을 위한 파이썬 업무자동화
  - '65b370c3949316d2d7a43847', -- AI와 노코드로 업무 자동화 끝내기
  - '65d2ae1b1076f1d4cc073fd0', -- [왕초보] 칼퇴를 부르는 파이썬 업무 자동화
  - '65d2a583af84d15811dc9aa2', -- [왕초보] AI와 노코드로 업무 자동화 끝내기
---

# 2024-04-01_유료(국비판매x) 완주 D+1

| Property | Value |
| --- | --- |
| created_date | 2024-04-01 |
| id | c8b39394-01e7-4783-8e81-9b95ad7fcb64 |
| url | https://www.notion.so/x-D-1-c8b3939401e747838e819b95ad7fcb64 |
| perf_flag | yes |
| importance | 5 |
| summary_5lines | |
|  | - '650abff5535c9f5382d509ee', -- 칼퇴를 부르는 파이썬 업무 자동화 |
|  | - '62973372bf6e0e4f799fc76e', -- 금융인을 위한 파이썬 업무자동화 |
|  | - '65b370c3949316d2d7a43847', -- AI와 노코드로 업무 자동화 끝내기 |
|  | - '65d2ae1b1076f1d4cc073fd0', -- [왕초보] 칼퇴를 부르는 파이썬 업무 자동화 |
|  | - '65d2a583af84d15811dc9aa2', -- [왕초보] AI와 노코드로 업무 자동화 끝내기 |

Original: https://www.notion.so/x-D-1-c8b3939401e747838e819b95ad7fcb64

### 발송 대상
- 강의명: 온라인 유료강의 완주자(국비 판매중인 21과목 + 매칭되는 일반 유료과목 제외)
- 나이 타겟: 18~38세
- 마케팅 수신 동의자
- 내일배움캠프 미결제자
- 최근 14일 내일배움캠프 미지원자

### 발송 시점
- 완주 D+1 19시 발송

### 발송 모수 쿼리
```sql
-- 유료강의들
WITH trial_courses AS (
    SELECT c._id, c.title, c._id as course_id, r._id as round_id 
    FROM dbonline_v2_courses c
    LEFT JOIN dbonline_v2_rounds AS r
    ON c._id = r.course_id 
    WHERE r.is_hanghae is not true -- 항해 지급 과목 제외
    AND r.is_gov_training is not true -- 내배캠 지급 과목 제외 
    AND c.is_trial is not true -- 무료 강의 제외
    and c.is_b2g2b is not true -- b2b에서 지급한 강의 제외
    and c.is_developer_trial is not true 
    and r.course_id is not null -- 기수테이블에 존재하지 않는 과목 제외 
    and course_id not in (
    '6115cea3e73913245c9538e0', -- 내일배움단 합류하기
    '62f09eebfeb2d564bacb0262', -- [왕초보] 유니티로 만드는 게임개발 종합반
    '6083eaca6305e019d3e0c3b4', -- 게임개발 종합반
		'62f09f2af3ce1804901b3f5c', -- [왕초보] 주식 데이터를 활용한 파이썬 데이터분석
		'62973372bf6e0e4f799fc76e', -- 금융인을 위한 파이썬 업무자동화
		'63ca5b43dfbe98f4c8ef20bf', -- [왕초보] 마케터, 기획자를 위한 실전 데이터 분석
		'6361d2ce4239a844b30d4163', -- 데이터 분석 종합반
		'63ca26845b3bac30b29bf2a3', -- [왕초보] 플러터(Flutter)로 시작하는 앱개발 종합반
		'5f0ae408765dae0006002817', -- 앱개발 종합반
		'64b687dc6e951768d4879e70', -- [왕초보] ChatGPT 300% 활용하기
		'654c451dd6aa5411421c298e', -- ChatGPT 300% 활용하기
		'64af9cbb47cba538dd738f98', -- [왕초보] 코딩이 처음이어도 쉽게 배우는 웹개발 A to Z
		'649938ae1e7a5e8c1b9dfb37', -- [왕초보] 웹개발 종합반
		'64b0a23c417100590a97e152', -- [개발자 입문] 웹개발의 봄, Spring
		'648fc643f9b1fac7aced4966', -- 웹개발의 봄 Spring
		'64b0a2237be3bd117c4ec29a', -- [왕초보] 노코드로 완성도 있는 웹사이트 만들기
    '6412734baa727445ce9374b0', -- 노코드 종합반
    '65d2b1111076f1d4cc074c62', -- [스킬업] Docker 기반 CI/CD 파이프라인 구축하기
    '65bc972922e51a142eced448', -- Docker 기반 CI/CD 파이프라인 구축하기
    '65d2af70a5c2b2029a1030ca', -- [왕초보] Kotlin으로 만드는 공공데이터 활용 안드로이드 앱
    '65bafc2e7e86cf32470c1dec', -- Kotlin으로 만드는 공공데이터 활용 안드로이드 앱
    '65d2af11a5c2b2029a102ecb', -- [왕초보] Unity로 메타버스 3D 게임 만들기
    '65abb1f33cd250acb856433a', -- Unity로 메타버스 3D 게임 만들기
    '65d2ae8f1076f1d4cc07414b', -- [스킬업] 프론트엔드 개발자를 위한 인터랙티브 3D 웹 개발 실전
    '65b08e7f4b408d8c7a9625e9', -- 프론트엔드 개발자를 위한 인터랙티브 3D 웹 개발 실전
    '65d2ae1b1076f1d4cc073fd0', -- [왕초보] 칼퇴를 부르는 파이썬 업무 자동화
    '650abff5535c9f5382d509ee', -- 칼퇴를 부르는 파이썬 업무 자동화
    '65d2ad561076f1d4cc073cb0', -- [왕초보] AI 기반 투자 수익률 분석 실습을 통한 데이터 분석 역량 키우기
    '65baf6587e86cf32470c1784', -- AI 기반 투자 수익률 분석 실습을 통한 데이터 분석 역량 키우기
    '65d2acd2a645a72c5e4a08ad', -- [왕초보] 노코드로 수익형 AI 앱 만들기
    '65b715cca5b5a5e6a309fe6a', -- 노코드로 수익형 AI 앱 만들기
    '65d2a90040ddbb5b4661f7b0', -- [왕초보] GA4와 SQL로 데이터 마케팅 한번에 끝내기
    '65b06c464b408d8c7a961a05', -- GA4와 SQL로 데이터 마케팅 한번에 끝내기
    '65d2a583af84d15811dc9aa2', -- [왕초보] AI와 노코드로 업무 자동화 끝내기
    '65b370c3949316d2d7a43847', -- AI와 노코드로 업무 자동화 끝내기
    '65d2b38b1076f1d4cc075361', -- [왕초보] 엑셀보다 쉽고 빠른 SQL
    '64956fe61e7a5e8c1b9c6e50', -- 엑셀보다 쉽고 빠른 SQL
    '65d2b315a5c2b2029a103d56', -- [스킬업] 실무에 바로 쓰이는 알고리즘 by Python
    '6467063d187f226a50090d43', -- 실무에 바로 쓰이는 알고리즘 by Python
    '65d2b1e4a645a72c5e4a1f20', -- [스킬업] AI가 처음이어도 쉽게 배우는 생성형 AI A to Z
    '65110da220492d270e776895', -- AI가 처음이어도 쉽게 배우는 생성형 AI A to Z
    '65d2b01d1076f1d4cc07470e',  -- [스킬업] 클라우드가 처음이어도 쉽게 배우는 AWS A to Z
    '65bb5da27e86cf32470c608d' -- 클라우드가 처음이어도 쉽게 배우는 AWS A to Z
    ) 
    ORDER BY r.created_at desc
),
-- 회원
users AS (
        SELECT name, _id, marketing, phone, birthyear
        FROM dbonline_v2_users
),

-- 완주 후 설문
enrolleds_finish_survey AS (
    SELECT enrolled_id, updated_at, text_log
    FROM dbonline_v2_enrolleds_finish_survey
)


-- crm_template_code 넣어줘야함
SELECT 
    DISTINCT 
    u.phone, 
    u.name as user_name, 
    c.title as course_title,
    birthyear,
    efs.updated_at
    , DATEDIFF(day, efs.updated_at, GETDATE() AT TIME ZONE 'UTC' AT TIME ZONE 'Asia/Seoul')
    ,  GETDATE() AT TIME ZONE 'UTC' AT TIME ZONE 'Asia/Seoul' as times 
FROM dbonline_v2_enrolleds e
INNER JOIN trial_courses c 
    ON e.course_id = c._id and e.round_id = c.round_id
INNER JOIN users u
    ON u._id = e.user_id 
-- 완주자 중 마지막 설문을 작성
INNER JOIN enrolleds_finish_survey efs
    ON efs.enrolled_id = e._id
WHERE __hevo__marked_deleted = FALSE
-- 완주 후 설문 updated 시간 기준  1일 전 d+1
AND u._id not in (select nb.user.onlineUserId FROM dbnbcamp_applicants nb)

-- 마케팅 수신 동의 안한 유저 제외 
AND u.marketing is not false

--나이가 18세 이하 또는 37세 이상 제외
AND birthyear between 1988 and 2005

ORDER BY e.created_at DESC;
```

---

### 제목
```plain text
스파르타코딩클럽 완주자 대상 혜택!
```

### 본문
```plain text
개발/디자인/데이터 등 IT 직군에 관심 있다면?

IT 직군 취업은 스파르타 내일배움캠프!

■ 전액 국비지원으로 부담 없이
■ 내가 공부하는 동안 늘 곁에, 현직자 튜터 상주
■ 취업까지 지원하는 채용 연계

실무와 유사한 팀 프로젝트로 경험 쌓고,
공백기 없는 이력서를 만들어보세요!

IT 취업 코스 보러가기
>>> https://nbcamp.spartacodingclub.kr/
```

### 결과값 예시
```javascript
개발/디자인/데이터 등 IT 직군에 관심 있다면?

IT 직군 취업은 스파르타 내일배움캠프!

■ 전액 국비지원으로 부담 없이
■ 내가 공부하는 동안 늘 곁에, 현직자 튜터 상주
■ 취업까지 지원하는 채용 연계

실무와 유사한 팀 프로젝트로 경험 쌓고,
공백기 없는 이력서를 만들어보세요!

IT 취업 코스 보러가기
>>> https://nbcamp.spartacodingclub.kr/
```
